{% load static %}
<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.24/css/jquery.dataTables.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link type="text/css" href="//gyrocode.github.io/jquery-datatables-checkboxes/1.2.12/css/dataTables.checkboxes.css" rel="stylesheet" />
    <link rel="stylesheet" href="{% static 'b2charm/css/index_style.css' %}">
    <title>B2CHARM</title>
</head>

<body>

    <main class="cards">
        <form id="filter_form" method="POST">
            {% csrf_token %}
            <article class="card">
                <div class="text">
                    <h6>Initial particles </h6>
                    <i class="fa fa-close" id="btnini" style="font-size:20px"></i>
                    <div class="radio_initial">
                        <input type="radio" name="initial" value="Bd" class="formbtn" id="id_initial_0">
                        <label for="id_initial_0">$B^0$</label>
                        <input type="radio" name="initial" value="Bu" class="formbtn" id="id_initial_1">
                        <label for="id_initial_1">$B^+$</label>
                        <input type="radio" name="initial" value="B" class="formbtn" id="id_initial_2">
                        <label for="id_initial_2">$B^0+B^+$</label>
                        <input type="radio" name="initial" value="Bs" class="formbtn" id="id_initial_3">
                        <label for="id_initial_3">$B_s^0$</label>
                        <input type="radio" name="initial" value="Bc" class="formbtn" id="id_initial_4">
                        <label for="id_initial_4">$B_c^+$</label>
                        <input type="radio" name="initial" value="Lambdab" class="formbtn" id="id_initial_5">
                        <label for="id_initial_5">$\Lambda_b$</label>
                        <input type="radio" name="initial" value="Xib" class="formbtn" id="id_initial_6">
                        <label for="id_initial_6">$\Xi_b$</label>
                        <input type="radio" name="initial" value="Omegab" class="formbtn" id="id_initial_7">
                        <label for="id_initial_7">$\Omega_b$</label>

                    </div>
                </div>
            </article>
            <article class="card">
                <div class="text">
                    <h6>Type of observable</h6>
                    <i class="fa fa-close" id="btnobs" style="font-size:20px"></i>
                    <div class="radio_obs">
                        <input type="radio" name="observable" value="BR" class="formbtn" id="id_observable_0">
                        <label for="id_observable_0">Branching fraction</label>
                        <input type="radio" name="observable" value="ACP" class="formbtn" id="id_observable_1">
                        <label for="id_observable_1">CP asymmetry</label>
                        <input type="radio" name="observable" value="polarization" class="formbtn" id="id_observable_2">
                        <label for="id_observable_2">Polarization</label>
                    </div>
                </div>
            </article>
            <article class="card3">
                <div class="text">
                    <h6>Charm Mesons</h6>
                    <div class="box_particle">
                        <button id="D0_bt">$D^0$</button>
                        <button id="Dplus_bt">$D^{\pm}$</button>
                        <button id="Ds_bt">$D_s^{\pm}$</button>
                        <button id="Ds0_bt">$D^{*0}$</button>
                        <button id="Dsplus_bt">$D^{*\pm}$</button>
                        <button id="Dss_bt">$D_s^{*\pm}$</button>
                        <button id="Dsss_bt">exited $D$</button>
                        <button id="Dssss_bt">exited $D_s$</button>
                    </div>
                </div>
            </article>

            <article class="card3">
                <div class="text">
                    <h6>Charmonium and Exotic states</h6>


                    <div class="box_particle">
                        <button id="Jpsi_bt">$J/\psi$</button>
                        <button id="psi2S_bt">$\psi(2S)$</button>
                        <button id="etac_bt">$\eta_c$</button>
                        <button id="chic_bt">$\chi_c$</button>
                        <button id="ccbar_bt">other charmonium</button>
                        <button id="X3872_bt">$X(3872)$</button>
                        <button id="Pc_bt">$P_c$</button>
                        <button id="XYX_bt">$XYZ$ states</button>
                    </div>
                </div>
            </article>

            <article class="card3">
                <div class="text">
                    <h6>Baryons</h6>

                    <div class="box_particle">
                        <button id="p_bt">$p$</button>
                        <button id="n_bt">$n$</button>
                        <button id="Lambda_bt">$\Lambda$</button>
                        <button id="Sigma_bt">$\Sigma$</button>
                        <button id="Xi_bt">$\Xi$</button>
                        <button id="Omega_bt">$\Omega$</button>
                        <button id="baryon_bt">other light baryons</button>
                        <button id="Lambdac_bt">$\Lambda_c$</button>
                        <button id="Sigmac_bt">$\Sigma_c$</button>
                        <button id="Xic_bt">$\Xi_c$</button>
                        <button id="cbaryon_bt">other charm baryons</button>
                    </div>
                </div>
            </article>

            <article class="card3">
                <div class="text">
                    <h6>Strange particles</h6>


                    <div class="box_particle">
                        <button id="K_bt">$K^{\pm}$</button>
                        <button id="K0_bt">$K^0_{(S/L)}$</button>
                        <button id="Ksplus_bt">$K^{*\pm}$</button>
                        <button id="Ks0_bt">$K^{*0}$</button>
                        <button id="phi_bt">$\phi$</button>
                        <button id="kaon_bt">other kaons</button>
                    </div>
                </div>
            </article>

            <article class="card3">
                <div class="text">
                    <h6>Light particles</h6>


                    <div class="box_particle">
                        <button id="pi_bt">$\pi^{\pm}$</button>
                        <button id="pi0_bt">$\pi^0$</button>
                        <button id="rhoplus_bt">$\rho^{\pm}$</button>
                        <button id="rho0_bt">$\rho^0$</button>
                        <button id="eta_bt">$\eta^{(\prima)}$</button>
                        <button id="omega_bt">$\omega$</button>
                        <button id="light_bt">other light mesons</button>
                        <button id="lepton_bt">leptons</button>
                        <button id="photon_bt">$\gamma$</button>
                    </div>
                </div>
            </article>
            <article class="card2">
                <div class="text">
                    <h6>Daughter Particle Numbers</h6>

                    <div class="particle_list">
                        <div id="D0" style="display: none;">

                            <span class="minus">-</span>
                            <input type="text" name="D0" class="daughterinput" value="0" id="id_D0">
                            <span class="plus">+</span>
                            <label for="id_D0">$D^0$</label>
                        </div>
                        <div id="Dplus" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="Dplus" class="daughterinput" value="0" id="id_Dplus">
                            <span class="plus">+</span>
                            <label for="id_Dplus">$D^{\\pm}$</label>
                        </div>
                        <div id="Ds" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="Ds" class="daughterinput" value="0" id="id_Ds">
                            <span class="plus">+</span>
                            <label for="id_Ds">$D_s^{\\pm}$</label>
                        </div>
                        <div id="Ds0" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="Ds0" class="daughterinput" value="0" id="id_Ds0">
                            <span class="plus">+</span>
                            <label for="id_Ds0">$D^{*0}$</label>
                        </div>
                        <div id="Dsplus" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="Dsplus" class="daughterinput" value="0" id="id_Dsplus">
                            <span class="plus">+</span>
                            <label for="id_Dsplus">$D^{*\\pm}$</label>
                        </div>
                        <div id="Dss" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="Dss" class="daughterinput" value="0" id="id_Dss">
                            <span class="plus">+</span>
                            <label for="id_Dss">$D_s^{*\\pm}$</label>
                        </div>
                        <div id="Dsss" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="Dsss" class="daughterinput" value="0" id="id_Dsss">
                            <span class="plus">+</span>
                            <label for="id_Dsss">exited $D$</label>
                        </div>
                        <div id="Dssss" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="Dssss" class="daughterinput" value="0" id="id_Dssss">
                            <span class="plus">+</span>
                            <label for="id_Dssss">exited $D_s$</label>
                        </div>
                        <div id="Jpsi" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="Jpsi" class="daughterinput" value="0" id="id_Jpsi">
                            <span class="plus">+</span>
                            <label for="id_Jpsi">$J/\psi$</label>
                        </div>
                        <div id="psi2S" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="psi2S" class="daughterinput" value="0" id="id_psi2S">
                            <span class="plus">+</span>
                            <label for="id_psi2S">$\psi(2S)$</label>
                        </div>
                        <div id="etac" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="etac" class="daughterinput" value="0" id="id_etac">
                            <span class="plus">+</span>
                            <label for="id_etac">$\eta_c$</label>
                        </div>
                        <div id="chic" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="chic" class="daughterinput" value="0" id="id_chic">
                            <span class="plus">+</span>
                            <label for="id_chic">$\chi_c$</label>
                        </div>
                        <div id="ccbar" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="ccbar" class="daughterinput" value="0" id="id_ccbar">
                            <span class="plus">+</span>
                            <label for="id_ccbar">other charmonium</label>
                        </div>
                        <div id="X3872" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="X3872" class="daughterinput" value="0" id="id_X3872">
                            <span class="plus">+</span>
                            <label for="id_X3872">$X(3872)$</label>
                        </div>
                        <div id="Pc" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="Pc" class="daughterinput" value="0" id="id_Pc">
                            <span class="plus">+</span>
                            <label for="id_Pc">$P_c$</label>
                        </div>
                        <div id="XYZ" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="XYZ" class="daughterinput" value="0" id="id_XYZ">
                            <span class="plus">+</span>
                            <label for="id_XYZ">$XYZ$ states</label>
                        </div>
                        <div id="p" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="p" class="daughterinput" value="0" id="id_p">
                            <span class="plus">+</span>
                            <label for="id_p">$p$</label>
                        </div>
                        <div id="n" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="n" class="daughterinput" value="0" id="id_n">
                            <span class="plus">+</span>
                            <label for="id_n">$n$</label>
                        </div>
                        <div id="Lambda" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="Lambda" class="daughterinput" value="0" id="id_Lambda">
                            <span class="plus">+</span>
                            <label for="id_Lambda">$\Lambda$</label>
                        </div>
                        <div id="Sigma" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="Sigma" class="daughterinput" value="0" id="id_Sigma">
                            <span class="plus">+</span>
                            <label for="id_Sigma">$\Sigma$</label>
                        </div>
                        <div id="Xi" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="Xi" class="daughterinput" value="0" id="id_Xi">
                            <span class="plus">+</span>
                            <label for="id_Xi">$\Xi$</label>
                        </div>
                        <div id="Omega" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name=Oomega" class="daughterinput" value="0" id="id_Omega">
                            <span class="plus">+</span>
                            <label for="id_Omega">$\Omega$</label>
                        </div>
                        <div id="baryon" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="baryon" class="daughterinput" value="0" id="id_baryon">
                            <span class="plus">+</span>
                            <label for="id_baryon">other light baryons</label>
                        </div>
                        <div id="Lambdac" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="Lambdac" class="daughterinput" value="0" id="id_Lambdac">
                            <span class="plus">+</span>
                            <label for="id_Lambdac">$\\Lambda_c$</label>
                        </div>
                        <div id="Sigmac" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="Sigmac" class="daughterinput" value="0" id="id_Sigmac">
                            <span class="plus">+</span>
                            <label for="id_Sigmac">$\\Sigma_c$</label>
                        </div>
                        <div id="Xic" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="Xic" class="daughterinput" value="0" id="id_Xic">
                            <span class="plus">+</span>
                            <label for="id_Xic">$\\Xi_c$</label>
                        </div>
                        <div id="cbaryon" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="cbaryon" class="daughterinput" value="0" id="id_cbaryon">
                            <span class="plus">+</span>
                            <label for="id_cbaryon">other charm baryons</label>
                        </div>
                        <div id="K" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="K" class="daughterinput" value="0" id="id_K">
                            <span class="plus">+</span>
                            <label for="id_K">$K^{\pm}$</label>
                        </div>
                        <div id="K0" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="K0" class="daughterinput" value="0" id="id_K0">
                            <span class="plus">+</span>
                            <label for="id_K0">$K^0_{(S/L)}$</label>
                        </div>
                        <div id="Ksplus" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="Ksplus" class="daughterinput" value="0" id="id_Ksplus">
                            <span class="plus">+</span>
                            <label for="id_Ksplus">$K^{*\pm}$</label>
                        </div>
                        <div id="Ks0" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="Ks0" class="daughterinput" value="0" id="id_Ks0">
                            <span class="plus">+</span>
                            <label for="id_Ks0">$K^{*0}$</label>
                        </div>
                        <div id="phi" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="phi" class="daughterinput" value="0" id="id_phi">
                            <span class="plus">+</span>
                            <label for="id_phi">$\phi$</label>
                        </div>
                        <div id="kaon" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="kaon" class="daughterinput" value="0" id="id_kaon">
                            <span class="plus">+</span>
                            <label for="id_kaon">other kaons</label>
                        </div>
                        <div id="pi" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="pi" class="daughterinput" value="0" id="id_pi">
                            <span class="plus">+</span>
                            <label for="id_pi">$\pi{^\pm}$</label>
                        </div>
                        <div id="pi0" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="pi0" class="daughterinput" value="0" id="id_pi0">
                            <span class="plus">+</span>
                            <label for="id_pi0">$\pi^0$</label>
                        </div>
                        <div id="rhoplus" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="rhoplus" class="daughterinput" value="0" id="id_rhoplus">
                            <span class="plus">+</span>
                            <label for="id_rhoplus">$\rho^{\pm}$</label>
                        </div>
                        <div id="rho0" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="rho0" class="daughterinput" value="0" id="id_rho0">
                            <span class="plus">+</span>
                            <label for="id_rho0">$\rho^{0}$</label>
                        </div>
                        <div id="eta" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="eta" class="daughterinput" value="0" id="id_eta">
                            <span class="plus">+</span>
                            <label for="id_eta">$\eta^{(\prima)}$</label>
                        </div>
                        <div id="omega" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="omega" class="daughterinput" value="0" id="id_omega">
                            <span class="plus">+</span>
                            <label for="id_omega">$\omega$</label>
                        </div>
                        <div id="light" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="light" class="daughterinput" value="0" id="id_light">
                            <span class="plus">+</span>
                            <label for="id_light">other light mesons</label>
                        </div>
                        <div id="lepton" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="lepton" class="daughterinput" value="0" id="id_lepton">
                            <span class="plus">+</span>
                            <label for="id_lepton">leptons</label>
                        </div>
                        <div id="photon" style="display: none;">
                            <span class="minus">-</span>
                            <input type="text" name="photon" class="daughterinput" value="0" id="id_photon">
                            <span class="plus">+</span>
                            <label for="id_photon">$\gamma$</label>
                        </div>


                    </div>
                </div>
            </article>
        </form>
    </main>

    <br>
    <hr>

    <table cellpadding="0" cellspacing="0" border="0" class="table" id="table1" align="center">
        <thead>
            <tr>
                <th>Select for Overview Plot</th>
                <th>Latex</th>
                <th>Value and Error</th>
                <th>Detail</th>

            </tr>
        </thead>
        <tfoot>
            <tr>
                <th>Select for Overview Plot</th>
                <th>Latex</th>
                <th>Value and Error</th>
                <th>Detail</th>

            </tr>
        </tfoot>
        <tbody>

        </tbody>
    </table>
    <center><button id="checkbox-btn">Generate Overview Plot</button></center><br>
    <hr>
    <div id="plot">

    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
    <script type="text/javascript" charset="utf8"
        src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.js"></script>
    <script type="text/javascript" src="//gyrocode.github.io/jquery-datatables-checkboxes/1.2.12/js/dataTables.checkboxes.min.js"></script>

    <script src="{% static 'b2charm/js/index.js' %}"></script>

    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>MathJax = { tex: { inlineMath: [['$', '$']] } };</script>
    <script>
    $('#checkbox-btn').click(function () {
        var rows_selected = table.column(0).checkboxes.selected();
        var selected = '';
        $.each(rows_selected, function(index, rowId){
            selected = selected.concat(rowId);
            selected = selected.concat(',');
         });
         $.ajax({
            url: "/index/post/ajax/plot",
            type: "POST",
            data: {
                csrfmiddlewaretoken: '{{ csrf_token }}' ,
                "selected": selected,
           },
            success: function (json_response) {
                console.log(json_response);
                var path = JSON.parse(json_response)["filepath"];
                $('#plot').prepend('<img  src='+path+'/>')
            },
            error: function (xhr, errmsg, err) {
                console.log(xhr.status + ": " + xhr.responseText);
            }
        });
    });
    </script>

</body>

</html>